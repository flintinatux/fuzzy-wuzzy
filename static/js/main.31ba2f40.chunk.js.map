{"version":3,"sources":["styles/Pagination.module.scss","styles/SearchIcon.module.scss","styles/User.module.scss","styles/UsersHeader.module.scss","styles/Users.module.scss","lib/assocWith.js","lib/max.js","lib/fuzzy.js","ducks/App.js","lib/min.js","lib/pagination.js","views/Pagination.js","views/SearchIcon.js","lib/targetVal.js","views/User.js","views/UsersHeader.js","views/Users.js","views/App.js","index.js","styles/App.module.scss"],"names":["module","exports","buddon","pagination","searchIcon","td","td1","td2","td4","tr","th","th1","th2","th4","searchBar","searchInput","searchWrapper","table","tbody","thead","userList","curry","key","f","obj","assoc","a","b","maxScore","query","current","val","max","score","String","minScore","item","scoreDesc","fuzzy","trim","pipe","map","assocWith","reduceObj","addScore","filter","sort","identity","init","list","page","results","addId","nAry","tinygen","clean","pick","parseUsers","compose","sortBy","prop","handle","_handle","Object","defineProperty","onSuccess","state","users","merge","nextPage","constant","action","prevPage","searchUsers","last","_ref2","min","length","Pagination","props","dispatch","react_default","createElement","className","disabled","onClick","title","_ref","first","SearchIcon","role","viewBox","width","height","fill","stroke","stroke-linecap","stroke-linejoin","stroke-width","cx","cy","r","d","targetVal","path","User","user","id","first_name","last_name","address","city","zip","toHeader","mapObj","replace","fields","Users","search","react","autoFocus","onChange","placeholder","type","value","views_SearchIcon","views_Pagination","cellSpacing","views_UsersHeader","_ref3","lo","hi","slice","paginate","App","_useReducer","useReducer","reducer","_useReducer2","slicedToArray","useEffect","fetch","concat","process","then","res","json","error","app","header","container","views_Users","assign","ReactDOM","render","index_es","name","views_App","document","getElementById"],"mappings":"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","file":"static/js/main.31ba2f40.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buddon\":\"Pagination_buddon__2K_U-\",\"pagination\":\"Pagination_pagination__2Oy1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchIcon\":\"SearchIcon_searchIcon__1D8Il\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"td\":\"User_td__1gYQE\",\"td1\":\"User_td1___Ooec\",\"td2\":\"User_td2__gR5g5\",\"td4\":\"User_td4__GgQPv\",\"tr\":\"User_tr__2B0Ic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"th\":\"UsersHeader_th__37Irn\",\"th1\":\"UsersHeader_th1__127-B\",\"th2\":\"UsersHeader_th2__1xIPf\",\"th4\":\"UsersHeader_th4__1g2Vq\",\"tr\":\"UsersHeader_tr__239QV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Users_searchBar__3y0WD\",\"searchInput\":\"Users_searchInput__2KdwT\",\"searchWrapper\":\"Users_searchWrapper__poBLv\",\"table\":\"Users_table__34hMd\",\"tbody\":\"Users_tbody__3uRw2\",\"thead\":\"Users_thead__3AxJD\",\"userList\":\"Users_userList__2d0Ua\"};","import { assoc, curry } from 'tinyfunk'\n\nexport const assocWith = (key, f, obj) =>\n  assoc(key, f(obj), obj)\n\nexport default curry(assocWith)\n","import { curry } from 'tinyfunk'\n\nconst max = (a, b) =>\n  a > b ? a : b\n\nexport default curry(max)\n","import score from 'string-score'\n\nimport {\n  filter, identity, map, pipe, reduceObj, sort\n} from 'tinyfunk'\n\nimport assocWith from './assocWith'\nimport max from './max'\n\nconst FUZZINESS = 0.1\nconst MIN_SCORE = 0.3\n\nconst addScore = query =>\n  assocWith('score', reduceObj(maxScore(query), -Infinity))\n\nconst maxScore = query => (current, val) =>\n  max(current, score(String(val), query, FUZZINESS))\n\nconst fuzzy = query =>\n  query.trim()\n    ? pipe(\n        map(addScore(query)),\n        filter(minScore),\n        sort(scoreDesc)\n      )\n    : identity\n\nconst minScore = item =>\n  item.score > MIN_SCORE\n\nconst scoreDesc = (a, b) =>\n  a.score > b.score ? -1 : 1\n\nexport default fuzzy\n","import { action, error, handle, onSuccess } from '@articulate/ducks'\nimport tinygen from 'tinygen'\n\nimport {\n  assoc, compose, constant, map, merge, nAry,\n  pick, pipe, prop, sortBy\n} from 'tinyfunk'\n\nimport assocWith from '../lib/assocWith'\nimport fuzzy from '../lib/fuzzy'\n\nexport const FETCH_USERS  = 'FETCH_USERS'\nexport const NEXT_PAGE    = 'NEXT_PAGE'\nexport const PREV_PAGE    = 'PREV_PAGE'\nexport const SEARCH_USERS = 'SEARCH_USERS'\n\nexport const init = {\n  list: [],\n  page: 0,\n  query: '',\n  results: []\n}\n\nconst addId =\n  assocWith('id', nAry(0, tinygen))\n\nconst clean =\n  pick(['first_name', 'last_name', 'address', 'city', 'state', 'zip'])\n\nconst goToNext = state =>\n  assoc('page', state.page + 1, state)\n\nconst goToPrev = state =>\n  assoc('page', state.page - 1, state)\n\nconst loadUsers = (state, users) => {\n  const list = parseUsers(users)\n  return merge(state, { list, results: list })\n}\n\nconst parseUsers =\n  pipe(\n    map(compose(addId, clean)),\n    sortBy(prop('first_name'))\n  )\n\nconst performSearch = (state, query) =>\n  merge(state, {\n    page: 0,\n    query,\n    results: fuzzy(query)(state.list)\n  })\n\nexport default handle(init, {\n  [ FETCH_USERS  ]: onSuccess(loadUsers),\n  [ NEXT_PAGE    ]: goToNext,\n  [ PREV_PAGE    ]: goToPrev,\n  [ SEARCH_USERS ]: performSearch\n})\n\nexport const fetchUsers = () =>\n  fetch(`${process.env.PUBLIC_URL}/users.json`)\n    .then(res => res.json())\n    .then(\n      action(FETCH_USERS),\n      error(FETCH_USERS)\n    )\n\nexport const nextPage    = constant(action(NEXT_PAGE, null))\nexport const prevPage    = constant(action(PREV_PAGE, null))\nexport const searchUsers = action(SEARCH_USERS)\n","import { curry } from 'tinyfunk'\n\nconst min = (a, b) =>\n  a < b ? a : b\n\nexport default curry(min)\n","import { slice } from 'tinyfunk'\n\nimport min from './min'\n\nexport const PAGE_SIZE = 25\n\nexport const first = ({ page, results }) =>\n  results.length ? page * PAGE_SIZE + 1 : 0\n\nexport const last = ({ page, results }) =>\n  min(results.length, (page + 1) * PAGE_SIZE)\n\nexport const paginate = ({ page, results }) => {\n  const lo = page * PAGE_SIZE\n  const hi = lo + PAGE_SIZE\n\n  return slice(lo, hi, results)\n}\n","import { compose } from 'tinyfunk'\nimport React from 'react'\n\nimport { buddon, pagination } from '../styles/Pagination.module.scss'\nimport { first, last } from '../lib/pagination'\nimport { nextPage, prevPage } from '../ducks/App'\n\nconst Pagination = props => {\n  const { dispatch, page, results } = props\n\n  return (\n    <div className={pagination}>\n      <button\n        className={buddon}\n        disabled={!page}\n        onClick={compose(dispatch, prevPage)}\n        title=\"Previous page\"\n      >\n        {'<'}\n      </button>\n\n      {first(props)}-{last(props)} of {results.length}\n\n      <button\n        className={buddon}\n        disabled={last(props) === results.length}\n        onClick={compose(dispatch, nextPage)}\n        title=\"Next page\"\n      >\n        {'>'}\n      </button>\n    </div>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { searchIcon } from '../styles/SearchIcon.module.scss'\n\nconst SearchIcon = () =>\n  <svg role=\"presentation\" className={searchIcon} viewBox=\"0 0 32 32\" width=\"14\" height=\"14\" fill=\"none\" stroke=\"currentcolor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\">\n    <circle cx=\"14\" cy=\"14\" r=\"12\" />\n    <path d=\"M23 23 L30 30\" />\n  </svg>\n\nexport default SearchIcon\n","import { path } from 'tinyfunk'\n\nconst targetVal =\n  path(['target', 'value'])\n\nexport default targetVal\n","import React from 'react'\n\nimport { td1, td2, td4, tr } from '../styles/User.module.scss'\n\nconst User = user =>\n  <tr key={user.id} className={tr}>\n    <td className={td2}>\n      { user.first_name }\n    </td>\n    <td className={td2}>\n      { user.last_name }\n    </td>\n    <td className={td4}>\n      { user.address }\n    </td>\n    <td className={td2}>\n      { user.city }\n    </td>\n    <td className={td1}>\n      { user.state }\n    </td>\n    <td className={td1}>\n      { user.zip }\n    </td>\n  </tr>\n\nexport default User\n","import { compose, mapObj } from 'tinyfunk'\nimport React from 'react'\n\nimport { th1, th2, th4, tr } from '../styles/UsersHeader.module.scss'\n\nconst toHeader =\n  mapObj((val, key) => key.replace(/_/g, ' '))\n\nconst UsersHeader = fields =>\n  <tr className={tr}>\n    <th className={th2}>\n      { fields.first_name }\n    </th>\n    <th className={th2}>\n      { fields.last_name }\n    </th>\n    <th className={th4}>\n      { fields.address }\n    </th>\n    <th className={th2}>\n      { fields.city }\n    </th>\n    <th className={th1}>\n      { fields.state }\n    </th>\n    <th className={th1}>\n      { fields.zip }\n    </th>\n  </tr>\n\nexport default compose(UsersHeader, toHeader)\n","import { compose } from 'tinyfunk'\nimport React, { Fragment } from 'react'\n\nimport { paginate } from '../lib/pagination'\nimport Pagination from './Pagination'\nimport SearchIcon from './SearchIcon'\nimport { searchUsers } from '../ducks/App'\nimport targetVal from '../lib/targetVal'\nimport User from './User'\nimport UsersHeader from './UsersHeader'\n\nimport {\n  searchBar, searchInput, searchWrapper, table, thead, tbody, userList\n} from '../styles/Users.module.scss'\n\nconst Users = props => {\n  const { dispatch, query, results } = props\n\n  const search =\n    compose(dispatch, searchUsers, targetVal)\n\n  return (\n    <Fragment>\n      <div className={searchBar}>\n        <div className={searchWrapper}>\n          <input\n            autoFocus\n            className={searchInput}\n            onChange={search}\n            placeholder=\"Search by anything!\"\n            type=\"search\"\n            value={query}\n          />\n\n          <SearchIcon />\n        </div>\n\n        <Pagination {...props} />\n      </div>\n\n      <div className={userList}>\n        <table\n          cellSpacing=\"0\"\n          className={table}\n        >\n          <thead className={thead}>\n            <UsersHeader {...results[0]} />\n          </thead>\n          <tbody className={tbody}>\n            { paginate(props).map(User) }\n          </tbody>\n        </table>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Users\n","import React, { useEffect } from 'react'\nimport { useReducer } from 'reinspect'\n\nimport { app, container, header, title } from '../styles/App.module.scss'\nimport reducer, { fetchUsers, init } from '../ducks/App'\nimport Users from './Users'\n\nconst App = () => {\n  const [ state, dispatch ] = useReducer(reducer, init, 'App')\n\n  // eslint-disable-next-line\n  useEffect(() => { fetchUsers().then(dispatch) }, [ true ])\n\n  return (\n    <div className={app}>\n      <header className={header}>\n        <h1 className={title}>All users</h1>\n      </header>\n\n      <section className={container}>\n        <Users\n          dispatch={dispatch}\n          {...state}\n        />\n      </section>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { StateInspector } from 'reinspect'\n\nimport './index.css'\nimport App from './views/App'\nimport { name } from '../package.json'\n\nReactDOM.render(\n  <StateInspector name={name}>\n    <App />\n  </StateInspector>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__JheK5\",\"container\":\"App_container__GcxlP\",\"header\":\"App_header__1YahI\",\"title\":\"App_title__1RlI_\"};"],"sourceRoot":""}